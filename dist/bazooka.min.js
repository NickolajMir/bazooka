(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.Baz=e()}})(function(){var e,t,r;return function i(e,t,r){function n(o,s){if(!t[o]){if(!e[o]){var u=typeof require=="function"&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var d=t[o]={exports:{}};e[o][0].call(d.exports,function(t){var r=e[o][1][t];return n(r?r:t)},d,d.exports,i,e,t,r)}return t[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<r.length;o++)n(r[o]);return n}({1:[function(e,t,r){var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var n=window.WeakMap;if(typeof n==="undefined"){var a=Object.defineProperty;var o=Date.now()%1e9;n=function(){this.name="__st"+(Math.random()*1e9>>>0)+(o++ +"__")};n.prototype={set:function(e,t){var r=e[this.name];if(r&&r[0]===e)r[1]=t;else a(e,this.name,{value:[e,t],writable:true});return this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];if(!t)return false;var r=t[0]===e;t[0]=t[1]=undefined;return r},has:function(e){var t=e[this.name];if(!t)return false;return t[0]===e}}}var s=new n;var u=window.msSetImmediate;if(!u){var f=[];var d=String(Math.random());window.addEventListener("message",function(e){if(e.data===d){var t=f;f=[];t.forEach(function(e){e()})}});u=function(e){f.push(e);window.postMessage(d,"*")}}var c=false;var v=[];function l(e){v.push(e);if(!c){c=true;u(p)}}function h(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function p(){c=false;var e=v;v=[];e.sort(function(e,t){return e.uid_-t.uid_});var t=false;e.forEach(function(e){var r=e.takeRecords();b(e);if(r.length){e.callback_(r,e);t=true}});if(t)p()}function b(e){e.nodes_.forEach(function(t){var r=s.get(t);if(!r)return;r.forEach(function(t){if(t.observer===e)t.removeTransientObservers()})})}function m(e,t){for(var r=e;r;r=r.parentNode){var i=s.get(r);if(i){for(var n=0;n<i.length;n++){var a=i[n];var o=a.options;if(r!==e&&!o.subtree)continue;var u=t(o);if(u)a.enqueue(u)}}}}var g=0;function w(e){this.callback_=e;this.nodes_=[];this.records_=[];this.uid_=++g}w.prototype={observe:function(e,t){e=h(e);if(!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData){throw new SyntaxError}var r=s.get(e);if(!r)s.set(e,r=[]);var i;for(var n=0;n<r.length;n++){if(r[n].observer===this){i=r[n];i.removeListeners();i.options=t;break}}if(!i){i=new S(this,e,t);r.push(i);this.nodes_.push(e)}i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){var t=s.get(e);for(var r=0;r<t.length;r++){var i=t[r];if(i.observer===this){i.removeListeners();t.splice(r,1);break}}},this);this.records_=[]},takeRecords:function(){var e=this.records_;this.records_=[];return e}};function y(e,t){this.type=e;this.target=t;this.addedNodes=[];this.removedNodes=[];this.previousSibling=null;this.nextSibling=null;this.attributeName=null;this.attributeNamespace=null;this.oldValue=null}function O(e){var t=new y(e.type,e.target);t.addedNodes=e.addedNodes.slice();t.removedNodes=e.removedNodes.slice();t.previousSibling=e.previousSibling;t.nextSibling=e.nextSibling;t.attributeName=e.attributeName;t.attributeNamespace=e.attributeNamespace;t.oldValue=e.oldValue;return t}var _,N;function D(e,t){return _=new y(e,t)}function M(e){if(N)return N;N=O(_);N.oldValue=e;return N}function L(){_=N=undefined}function E(e){return e===N||e===_}function x(e,t){if(e===t)return e;if(N&&E(e))return N;return null}function S(e,t,r){this.observer=e;this.target=t;this.options=r;this.transientObservedNodes=[]}S.prototype={enqueue:function(e){var t=this.observer.records_;var r=t.length;if(t.length>0){var i=t[r-1];var n=x(i,e);if(n){t[r-1]=n;return}}else{l(this.observer)}t[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;if(t.attributes)e.addEventListener("DOMAttrModified",this,true);if(t.characterData)e.addEventListener("DOMCharacterDataModified",this,true);if(t.childList)e.addEventListener("DOMNodeInserted",this,true);if(t.childList||t.subtree)e.addEventListener("DOMNodeRemoved",this,true)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;if(t.attributes)e.removeEventListener("DOMAttrModified",this,true);if(t.characterData)e.removeEventListener("DOMCharacterDataModified",this,true);if(t.childList)e.removeEventListener("DOMNodeInserted",this,true);if(t.childList||t.subtree)e.removeEventListener("DOMNodeRemoved",this,true)},addTransientObserver:function(e){if(e===this.target)return;this.addListeners_(e);this.transientObservedNodes.push(e);var t=s.get(e);if(!t)s.set(e,t=[]);t.push(this)},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[];e.forEach(function(e){this.removeListeners_(e);var t=s.get(e);for(var r=0;r<t.length;r++){if(t[r]===this){t.splice(r,1);break}}},this)},handleEvent:function(e){e.stopImmediatePropagation();switch(e.type){case"DOMAttrModified":var t=e.attrName;var r=e.relatedNode.namespaceURI;var i=e.target;var n=new D("attributes",i);n.attributeName=t;n.attributeNamespace=r;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;m(i,function(e){if(!e.attributes)return;if(e.attributeFilter&&e.attributeFilter.length&&e.attributeFilter.indexOf(t)===-1&&e.attributeFilter.indexOf(r)===-1){return}if(e.attributeOldValue)return M(a);return n});break;case"DOMCharacterDataModified":var i=e.target;var n=D("characterData",i);var a=e.prevValue;m(i,function(e){if(!e.characterData)return;if(e.characterDataOldValue)return M(a);return n});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var i=e.relatedNode;var o=e.target;var s,u;if(e.type==="DOMNodeInserted"){s=[o];u=[]}else{s=[];u=[o]}var f=o.previousSibling;var d=o.nextSibling;var n=D("childList",i);n.addedNodes=s;n.removedNodes=u;n.previousSibling=f;n.nextSibling=d;m(i,function(e){if(!e.childList)return;return n})}L()}};if(!i){i=w}t.exports=i},{}],2:[function(e,t,r){"use strict";var i=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;var n=/^data-(.+)$/;var a=/-([\da-z])/gi;var o=function(e,t){return t.toUpperCase()};var s=function(e){var t=["data-bazid","data-bazooka"];var r={};Array.prototype.forEach.call(e.attributes,function(e){if(!(n.test(e.name)&&t.indexOf(e.name)===-1)){return}var s=e.value;var u=e.name.match(n)[1];var f=u.replace(a,o);if(typeof s==="string"){try{if(s==="true"){s=true}else if(s==="false"){s=false}else if(s==="null"){s=null}else if(s===+s+""){s=+s}else if(i.test(s)){s=JSON.parse(s)}}catch(d){}}else{s=undefined}r[f]=s});return r};t.exports={getAttrs:s}},{}],3:[function(e,t,r){"use strict";var i=e("mutation-observer");var n=0;var a={};var o={};var s={};if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var t=Array.prototype.slice.call(arguments,1),r=this,i=function(){},n=function(){return r.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};i.prototype=this.prototype;n.prototype=new i;return n}}function u(t){if(o[t]===void 0){o[t]=e(t)}return o[t]}function f(e,t){var r=e.id;if(a[r]===void 0){a[r]=[]}if(a[r].indexOf(t)===-1){a[r].push(t);var i=u(t);var n;if(i.bazFunc){n=i.bazFunc}else{n=i}n(e.__wrapped__)}}function d(e){var t=e.getAttribute("data-bazid");if(t==null){t=(n++).toString();e.setAttribute("data-bazid",t);s[t]=this}this.__wrapped__=e;this.id=t}d.prototype.constructor=d;function c(e){var t=e.getAttribute("data-bazooka");var r=new d(e);f(r,t)}var v=function(e){if(e instanceof d){return e}return new d(e)};v.BazookaWrapper=d;v.h=e("./helpers.js");v.refresh=function(e){e=e||document.body;for(var t in s){if(s[t]&&!s[t].__wrapped__.parentNode){s[t]=null;a[t]=[]}}Array.prototype.forEach.call(e.querySelectorAll("[data-bazooka]:not([data-bazid])"),c)};function l(e){v.refresh(e.target)}function h(e){e.forEach(l)}v.watch=function(e){e=e||document.body;v.refresh(e);var t=new i(h);t.observe(e,{childList:true,subtree:true});return t.disconnect.bind(t)};t.exports=v},{"./helpers.js":2,"mutation-observer":1}]},{},[3])(3)});